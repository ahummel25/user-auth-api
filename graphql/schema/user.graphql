# GraphQL schema example
#
# https://gqlgen.com/getting-started/

directive @hasRole(role: Role!, action: Action!) on FIELD_DEFINITION

enum Action {
    CREATE_USER
    DELETE_USER
}

enum Role {
    ADMIN
    USER
}

type Query {
  authenticateUser(params: AuthParams!): UserObject!
}

type Mutation {
  createUser(user: CreateUserInput!): UserObject! @hasRole(role: ADMIN, action: CREATE_USER)
  deleteUser(user: DeleteUserInput!): String! @hasRole(role: ADMIN, action: DELETE_USER)
}

type User {
  userID: ID!
  email: String!
  firstName: String!
  lastName: String!
  userName: String!
}

type UserObject {
    user: User!
}

input CreateUserInput {
  email: String!
  firstName: String!
  lastName: String!
  userName: String!
  password: String!
}

input DeleteUserInput {
  userID: ID!
  email: String!
  firstName: String!
  lastName: String!
  userName: String!
}
